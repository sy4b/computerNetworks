# 3.1 数据链路层功能
## 3.1.1 为网络层提供服务
1. 无确认的无连接服务：不需要建立链路连接，接收到数据后不需要确认。适合实时通信或误码率低的信道，例如以太网
2. 有确认的无连接服务。适用误码率较高的通信信道，例如无线信道
3. 有确认的面向连接服务。适合可靠性和实时性要求较高的场合

**有连接就要有确认，不存在无确认的面向连接服务**

## 3.1.2 链路管理

## 3.1.3 帧定界、帧同步和透明传输

1. 主机传送消息需要将网络层的分组封装成帧
2. 需要在数据的前后添加**首部和尾部**，构成帧
3. 透明传输：无论数据是什么比特组合，都能在链路上传输（不和其他控制字符冲突

协议规定帧的数据部分的长度上限：MTU（最大传送单元）

## 3.1.4 流量控制

**限制发送方的数据流量**，使其不超过接收方的接受能力

## 3.1.5 差错控制

1. 位错：CRC（循环冗余校验）+ARQ（超时自动重传）
2. 帧错：引入定时器和编号

# 3.2 组帧
组帧需要添加首部和尾部
1. 信息是以帧为最小单位进行传输的
2. 分组（IP数据报）不需要加尾部来定界

## 3.2.1 字符计数法

在帧**头部**用一个计数字段标明帧内字符数。例如：54321为一帧，5表示帧内有五个字符

这里的长度包括帧头部

缺点：计数字段一旦出错，后面全完蛋

## 3.2.2 字符填充的首尾定界符法

1. 用特定字符来确定一帧的开始和结束
2. **信息位中出现同样的特定字符时，前面插入一个转义字符ESC来区分**
3. **如果ESC也出现在信息位中，同样前面插入一个ESC**


## 3.2.3 零比特填充的首尾标志法

1. 用01111110表示帧的开始和结束
2. 信息位中，**每出现五个连续1，在后面插入一个0**

HDLC采用这种方法（大纲已删）

## 3.2.4 违规编码法

用违规编码序列来界定帧的起始和终止

# 3.3 差错控制

## 3.3.1 检错编码

1. 奇偶校验码
	1. 对于奇校验码，附加一个校验位后，1的个数为奇数
	2. 对于偶校验码，附加一个校验位后，1的个数为偶数

2. CRC循环冗余校验：给定m位帧，生成多项式G(x)（r阶），帧模二除G(x)得到r位余数。传m+r（数据+余数）位比特

> CRC过程：
> 约定生成多项式	G(x)=1101=$x^3+x^2+1$，r=3 三阶
> 待传送数据 M=101001 进行模二除
> 余数001
> 那么发送 101001 001

CRC具有纠错功能，数据链路层仅使用了检错功能。接收端检查到错误，就丢弃，不接收

## 3.3.2 纠错编码

### 海明码

1. 确定位数：$n$位有效信息，$k$位校验码，需要满足$n+k≤2^k-1$，可以纠正一位错误
2. 校验位分布：$P_i$分布在$2^{i-1}$位置上
3. 分组形成校验关系：被校验数据位的海明位号=校验该数据位的所有校验位海明位号之和
4. 校验位取值：$P_i$的值由他校验的数据位求异或
5. 校验：校验码和他校验的位异或，拼成一个数，000表示没有错；否则就是出错的位号

> 例如发送1010
> D1=0,D2=1,D3=0,D4=1
> 确定校验码的位数，$4+k<=2^{k}-1$，k=3
> 确定校验码分布，海明号是：4, 2, 1
> 那么发送的海明码是：D4, D3, D2，P3， D1，P2，P1
> 分组校验关系：D1放在3上，3=1+2,由P1P2校验；D2放在5上，5=1+4，由P1P3校验；D3放在6上，6=2+4，由P2P3校验；D4放在7上，7=1+2+4，由P1P2P3校验。那么分组关系是：P1校验D1D2D4、P2校验D1D3D4、P3校验D2D3D4
> 校验位取值：P1=D1异或D2异或D4=0，P2=D1异或D3异或D4=1，P3=D2异或D3异或D4=0
> 所以1010对应的海明码是：1010010
> 校验：S3=P3异或D4异或D3异或D2，S2=P2异或D4异或D3异或D1，S1=P1异或D4异或D2异或D1。S3S2S1=000说明没有出错，否则就是出错的海明位号

![在这里插入图片描述](https://img-blog.csdnimg.cn/ee8693312d5341658e9cc358378f77f5.jpeg)


# 3.4 流量控制和可靠传输机制

## 3.4.1 流量控制、可靠传输和滑动窗口机制

流量控制：限制发送方的发送速率，使接收方有足够的缓冲空间接收每个帧

1. 停止-等待协议：发送窗口=接受窗口=1
2. 滑动窗口协议
    1. 后退N帧协议：发送窗口>1，接受窗口=1
    2. 选择重传协议：发送窗口>1，接受窗口>1
3. 可靠传输机制：ARQ，自动重传

## 3.4.2 单帧滑动窗口、停止-等待协议

1. 源站发送单个帧后必须等待确认，目的站的确认到达源站之后才能继续发送其他数据帧
2. 源站设置计时器，超时自动重传
3. 数据帧号用1bit编码即可
4. 发送方和接收方需要设置缓冲区，保存副本

> 1. 一个信道数据传输速率4kb/s，单向传播时延30ms，使停止等待协议的信道最大利用率达到80%，要求数据帧长度至少多少？
> 设数据帧长度L，发送时间为：L/4000s，传播时间为2*30ms=0.06s，信道利用率0.8=(L/4000)/(L/4000+0.06)，得到L=960bit

## 3.4.3 多帧滑动窗口和后退N帧协议（GBN

1. 可以连续发送帧。但**接收方接收到失序的帧时，要求重传后面所有帧。接收方只允许按顺序接受帧**
2. **ACKn表示对第n号帧确认，接收方已经正确收到0~n号帧**（累积确认
3. ⚠️**若用n比特对帧编号，发送窗口的尺寸应该满足 $1≤W≤2^n-1$ **

> 1. 数据链路层采用后退N帧协议。发送方已经发送0～6号帧，计时器超时时，只收到1、3、5的确认帧，那么需要重新传的帧是：6号帧
> 2. 数据链路层采用GBN协议，发送窗口大小是32，那么需要至少：7位序列号才能保证协议不出错。（$2^7-1=63>=32$)
> 3. 主机甲乙使用GBN协议传输数据，发送窗口1000，数据帧长度1000B，信道带宽100Mb/s，乙收到一个数据帧后立即用一个短帧（忽略传输延迟）确认，甲乙之间单向传播时延50ms，则甲可以达到的最大平均数据传输速率约为：
> 甲发送1000个帧用时：1000\*8\*1000\/(100000000)=0.08s，而一个帧从发出到确认需要2\*50ms=0.1s，0.1s内只能发送1000个帧，因此最大传输速率：1000\*8\*1000/0.1=80Mb/s
> 4. (12 408) 两台主机之间数据链路层采用GBN协议传输数据，数据传输速率16kbps，单向传播时延270ms，数据帧长度128~512字节，接收方以等长的帧进行确认，为了使信道利用率最高，帧序号的比特数至少为？
> 使发送一帧到接受确认的时间内发送的帧数最多，即帧长取最短，128B
> 发送时间：128\*8/16k = 64ms , 发送两次，128ms，传播时间2\*270ms = 540ms
> 发送一帧到收到确认总时间 668ms，可以发送668/64 = 10.多帧，需要4bit编号


## 3.4.4 多帧滑动窗口与选择重传协议（SR
1. 若采用n比特对帧编号，需要满足发送窗口和接收窗口大小之和$\le{2^n}$，一般各取一半
2. 发送窗口>1，接受窗口>1
3. 接受窗口不大于发送窗口大小，即接受窗口$\le{2^{n-1}}$
4. **不采用累计确认，依次确认需要重传的帧**

> 1. 使用SR协议，如果采用5位帧序列号，那么可以采用的最大接受窗口是：2^{5-1}=16
> 2. 窗口大小为n的滑动窗口，最多可以有n-1帧已发送但没确认
> 3. (11 408) 数据链路层采用SR传输协议，发送方已发送0~3号数据帧，现已收到1号帧的确认，0、2号帧超时，此时需要重传的帧：0、2
> 4. (19 408) 对于滑动窗口协议，分组序号3bit编号，发送窗口5，接受窗口最大：$2^3-5 = 3$

# 3.5 介质访问控制
作用：将使用介质的每个设备与来自同一通信信道上的其他设备的通信隔离开

1. 静态划分信道：信道划分介质访问控制
2. 动态分配信道：随机访问介质访问控制、轮询访问介质访问控制

## 3.5.1 信道划分介质访问控制
1. 频分多路复用（FDM
2. 时分多路复用（TDM
3. 波分多路复用（WDM，光的频分多路复用
4. 码分多路复用（CDM

### CDMA原理（码分多址
1. 每个比特再划分成码片序列。发送比特1时，发送该码片；发送比特0时，发送该码片的反码
2. 将码片里的0写成-1，用于计算向量内积
3. 要求各个站点的码片序列正交

> 例如A站码片S=00011011，则A站发送00011011就表示发送比特1，发送11100100就表示发送比特0
> 则A的码片序列是：-1，-1，-1，1，1，-1，1，1
> B站码片T=00101110满足ST正交
> ST到公共信道上，进行线性叠加得到S-T
> 到达目的地C站后，想得到A的发送数据，就S(S-T)，想得到B的就T(S-T)

## 3.5.2 随机访问介质访问控制
1. 随机访问协议，不采用集中控制方式解决发送次序问题，所有用户根据自己的意愿随机发送数据
2. 为解决随机接入发生的碰撞，用户需要按照一定规则反复重传帧，这些规则包括ALOHA协议、CSMA协议、CSMA/CD协议、CSMA/CA协议
3. 思想：胜利者通过争用获得信道，获得信息的发送权
### 1. ALOHA协议
#### 纯ALOHA协议
1. 需要发送数据时，无需任何检测就可以发
2. 一段时间内未收到确认，则认为发生了冲突，发送站点**等待随机一段时间后重发数据**，直到发送成功
3. 纯ALOHA协议网络的吞吐量$S=Ge^{-2G}$，G=0.5时，S=0.184
#### 时隙ALOHA协议
1. 将所有站点在时间上同步起来，将时间划分为一段段等长的时隙，**规定只能在每个时隙开始时才能发送一个帧**
2. 时隙ALOHA吞吐量最大值0.368，比纯ALOHA协议提升一倍

### 2. CSMA协议
1. 每个站点在发送前都先侦听一下公共信道，信道空闲再发送
2. 根据侦听方式和侦听到信道忙后的处理方式，分为三种

#### 1-坚持CSMA
1. 站点发送数据时，先侦听信道
2. 如果信道空闲，立即发送数据
3. **如果信道忙，那么等待，继续侦听直到信道空闲**
4. 如果发生冲突，那么随机等待一段时间后再重新开始侦听信道

**1-坚持CSMA可能产生冲突**，例如AB都在等待，一旦空闲，就立即同时发，产生冲突

传播延迟也会影响：A正在发送，还没到达B，B侦听到信道空闲，也发送，此时会发生碰撞

#### 非坚持CSMA 
1. 站点发送数据时，先侦听信道
2. 如果信道空闲，立即发送数据
3. **如果信道忙，那么放弃侦听，等待随机时间后重复上述过程**

#### p-坚持CSMA
1. 用于时隙信道
2. 首先侦听信道
3. **如果信道忙，就持续侦听，直到信道空闲**
4. **如果信道空闲，那么以概率p发送数据，1-p概率推迟到下一个时隙；如果下一个时隙信道依然空闲，那么仍然以p概率发送，1-p概率推迟**

### 3. CSMA/CD协议
1. 适用总线型网络、半双工网络
2. 发送前先侦听，总线空闲时，开始发送该帧；总线忙时，持续侦听直到信道上没有信号能量
3. **发送过程持续侦听信号，监测到信号碰撞时，终止数据发送并发送一个拥堵信号**（因此发送时延需要大于两倍传输时延
4. 终止发送后，适配器执行**指数退避算法**，等待一段随机时间后返回步骤2

#### 最小帧长
$最小帧长=2*总线传播时延*数据传输率$

1. **以太网规定最小帧长64B**

> 1. 以太网中，当数据传输速率提高时，帧的发送时间会相应缩短，可能影响到冲突的检测，为了有效检测冲突，可以使用的解决方案：减少电缆介质长度、增加最短帧长

#### 指数退避算法
1. 确定基本退避时间，一般取2\*传播时延
2. 定义参数：重传次数k=min[10,重传次数]
3. 从离散整数集合[0,1,2,4,...,$2^k-1$]中随机取一个数r，重传的退避时间就是r倍基本退避时间
4. **重传16次依然不成功，则说明网络太拥挤，认为此帧无法发出，报告上层。**

> 1. 以太网二进制退避算法中，11次碰撞之后，站点会在0～1023中随机选择一个数

### 4. CSMA/CA协议
无线局域网不能采用CSMA/CD协议，因为
1. 接收信号强度远小于发送信号的强度，并且传输介质上信号强度变化大
2. 无线通信中并非所有站点都能听到对方，即存在**隐蔽站**问题

CSMA/CA协议，设计上是为了尽量降低碰撞概率

#### 最小帧间间隔 IFS

所有站点发送完成后，必须等待一段时间才能发送下一帧，这段时间称为**最小帧间间隔IFS**。802.11使用三种IFS：
1. SIFS：最短的IFS，用于分隔属于一次对话的各帧。使用SIFS的有：ACK帧、CTS帧、分片后的数据帧、以及所有回答AP问询的帧
2. PIFS：中等长度的IFS，在PCF操作中使用
3. DIFS：最长的IFS，用于异步帧竞争访问的时延



#### CSMA/CA协议过程

1. 若站点最初有数据要发送，且信道空闲，则等待DIFS后，发送整个数据帧
2. 否则，执行CSMA/CA退避算法
3. **接受站收到数据，发送ACK确认帧**

#### 处理隐蔽站的问题：RTS和CTS
隐蔽站问题：站A和B都在AP覆盖范围内，但A和B距离远，听不见对方。当A和B都检测到信道空闲时，同时发送数据会产生碰撞

1. 源站发送数据帧之前，先广播一个RTS控制帧（包括源地址、目的地址和通信所需持续时间）
2. 若信道空闲，AP广播一个CTS控制帧。其他站点接收到CTS，会在指定时间内抑制数据帧的发送

## 3.5.3 轮询访问：令牌传递协议
令牌传递协议，主要用于令牌环局域网中。**不会发生冲突**
令牌传递网络中，**网络链路物理上不一定是一个环，但逻辑上必须是一个环**

令牌：一个特殊的MAC控制帧，本身不包含信息，仅控制信道的使用，确保同一时刻只有一个站点独占信道。

1. 网络空闲时，环路中只有令牌帧在循环传递
2. 令牌传递到有数据要发送的站点时，站点修改令牌中得到一个标志位，并在令牌中加上要传输的数据，将令牌变成一个数据帧，然后发送出去
3. 数据帧沿着环路传递，直到接受的站点。接受站不再发送令牌
4. 源站点监测到传输完成后，重新产生一个令牌，传递给下一个站点，交出信道控制权

**轮询介质访问控制适合负载很高（多个节点在同一时刻发送数据概率很大）的广播信道。**

# 3.6 局域网
## 3.6.1 局域网（LAN）的基本概念和体系结构
1. 地理范围较小
2. 各种计算机、外设和数据库系统等通过双绞线、同轴电缆等介质相互连接
3. **所有站点共享较高的总带宽**
4. **较低的时延和误码率**
5. 各站点为**平等**关系
6. 可以进行**广播、组播**

局域网介质访问控制主要有CSMA/CD、令牌总线和令牌环。前两者用于总线型局域网，后者主要用于环形局域网


常见的局域网拓扑结构：星形、环形、总线型、星形和总线型结合的复合结构（树形）

||以太网|令牌环|FDDI，光纤分布数字接口|
|--|---|---|---
|逻辑|总线型|环形|环形|
|物理|星形|星形|双环|

IEEE802标准将数据链路层拆分为：逻辑链路控制子层（LLC）和媒体接入控制子层（MAC）
1. MAC子层向上层屏蔽对物理层访问的各种差异，提供对物理层的统一访问接口。主要包括：组帧、拆帧、比特传输差错检测、透明传输
2. LLC子层向网络层提供无确认无连接、面向连接、带确认无连接、高速传送四种服务

## 3.6.2 以太网与IEEE802.3
**IEEE802.3标准是一种基带总线型的局域网标准，描述物理层和数据链路层的MAC子层实现方法**

通常将802.3局域网称为以太网

1. 以太网**逻辑上采用总线型拓扑结构**，信息以广播方式发送，使用**CSMA/CD**方式对总线进行访问控制
2. 以太网采用**无连接**工作方式，提供**不可靠**服务
3. 发送数据使用**曼彻斯特编码**

> 1. 一个以太网中有ABCD四台主机，A向B发送数据，则ABCD都能收到数据

### 1. 以太网的传输介质与网卡
|参数|10BASE5|10BASE2|**10BASE-T**|10BASE-FT|
|---|---|---|---|---|
|传输媒体|基带同轴电缆（粗缆）|基带同轴电缆（细缆）|**非屏蔽双绞线**|光纤对|
|编码|曼彻斯特|曼彻斯特|**曼彻斯特**|曼彻斯特|
|拓扑结构|总线型|总线型|**星形**|点对点|
|最大段长|500m|185m|**100m**|2000m|
|最多节点数目|100|30|2|2|

1. 10BASE-T非屏蔽双绞线以太网拓扑结构为星形网，**中心为集线器**。但**使用集线器的以太网逻辑上仍然是一个总线型网，属于一个冲突域**
2. 10BASE-10，**数据传输速率10Mb/s**

计算机与外界局域网的连接通过网络适配器（Adapter）或网络接口卡（NIC）实现
每块网卡都有唯一的代码，称为介质访问控制地址（MAC地址），用于控制主机在网络上的数据通信

> 1. 网卡实现的主要功能在：物理层和数据链路层
> 2. 每个以太网卡都有自己的时钟，时钟同步采用的机制是：曼彻斯特机制
> 3. 使用5类UTP设计覆盖范围200m的10BASE-T以太网，需要采用的设备是：中继器（放大器放大的是模拟信号，以太网传输基带信号，10BASE-T以太网范围100m
> 4. 同一局域网中两个设备具有相同MAC地址时，两台设备都不能正常通信

### 2. 以太网的MAC帧
1. **每块网卡中的MAC地址称为物理地址；MAC地址占6字节，用连字符或冒号分隔的12个十六进制数表示**，例如02-60-8c-e4-b1-21
2. 总线上使用广播通信，因此网卡上每收到一个MAC帧，首先用硬件检查MAC帧中的MAC地址，如果是发往本站的帧，那么留下，否则丢弃


![请添加图片描述](https://img-blog.csdnimg.cn/477b1047333343e4b61b69e38a123623.jpeg)

1. 前导码：用于发送端和接受端时钟同步。分为7B前同步码，实现MAC帧比特同步，1B帧开始定界符
2. **MAC帧不需要帧结束符，但数据链路层上，帧不仅需要添加首部，也要添加尾部**
3. 地址：6B MAC地址
4. 类型：2B，指出数据域的数据应该交给哪个协议实体处理
5. 数据：**46～1500B，其中46是因为以太网最小帧长64B，MAC帧的首部和尾部长18B**
6. FCS：4B校验码，32位CRC，**校验数据部分、源地址、目的地址、类型**，不校验前导码



### 3. 高速以太网
**速率达到或超过100Mb/s的以太网称为高速以太网**

#### （1）100BASE-T
1. 双绞线
2. 100Mb/s基带信号
3. **拓扑结构为星形**
4. **支持半双工或全双工；全双工下无冲突，不适用CSMA/CD协议**
5. **最短帧长不变，64B**

#### （2）吉比特以太网
1. 又称千兆以太网
2. 1Gb/s速率
3. **支持半双工或全双工；全双工下无冲突，不适用CSMA/CD协议**

#### （3）10吉比特以太网
1. 使用**光纤**作为传输媒体
2. **只工作在全双工方式，没有争用问题，不适用CSMA/CD协议**

## 3.6.3 IEEE802.11无线局域网
### 2. 802.11局域网的MAC帧
802.11帧有三种类型：数据帧、控制帧和管理帧

802.11数据帧由3三部分组成：
1. MAC帧首部，30B
2. 帧主体，数据部分，不超过2312B
3. 帧尾部，FCS

![请添加图片描述](https://img-blog.csdnimg.cn/ab0a2ece6dd940d288297fd857b8238b.jpeg)


---

802.11帧中最重要的是4个地址字段，**都是MAC硬件地址**。这里仅讨论前三个地址，地址4用于组网络
**前三个地址内容取决于帧控制字段中的“去往AP”和“来自AP”字段数值**，如下表

|去往AP|来自AP|地址1|地址2|地址3|
|---|---|---|---|---|
|0|1|接收地址=目的地址|发送地址=AP地址|源地址|
|1|0|接收地址=AP地址|发送地址=源地址|目的地址|

**地址1是直接接受数据帧的节点地址；地址2是实际发送数据帧的节点地址；地址3是另一个地址**


假设站A向B发送数据帧。

1. A发往接入点AP的数据帧中，**去往AP=1，来自AP=0。地址1是AP的MAC地址；地址2是A的MAC地址；地址3是B的MAC地址**
2. AP收到数据帧后转发给B，此时数据帧中 **去往AP=0，来自AP=1。地址1是B的MAC地址；地址2是AP的MAC地址；地址3是A的MAC地址**

---

## 3.6.4 VLAN基本概念和原理
虚拟局域网（Virtual LAN）将一个较大局域网分隔成一些小的逻辑上的VLAN，每个VLAN又是一个较小的广播域

1. VLAN与地理位置无关
2. 逻辑上的VLAN
3. **不是建立在交换技术上**
4. 通过**硬件**方式实现逻辑分组和管理
5. 虚拟局域网中的计算机可以位于不同的局域网中
6. 划分方式：基于交换机端口划分、基于网卡地址划分、基于网络层地址划分

VLAN可以隔绝冲突域和广播域

# 3.7 广域网
## 3.7.1 广域网基本概念
1. 覆盖范围广
2. 广域网是因特网的核心部分；因特网是最大的广域网
3. 局域网可以通过广域网与另一个相隔很远的局域网通信
4. 广域网的通信子网采用**分组交换技术**，使用**节点交换机**进行分组转发（**注意不是路由器**）

## 3.7.2 PPP协议
1. 支持**点对点**发送数据，不支持多点线路
2. 可在同步线路（**字节填充法**）和异步线路（**比特填充法**）上传输
3. **提供差错检测，但不提供纠错，只保证无差错接受，不可靠传输。不采用序号和确认机制**
4. PPP只支持**全双工链路**
5. PPP**两端可以运行不同的网络层协议**
6. PPP面向字节

### PPP帧格式

![请添加图片描述](https://img-blog.csdnimg.cn/f55c576d637248159a356312fc7a115d.jpeg)
1. **首尾的7E为帧定界符，如果出现在信息字段中，需要做字节填充**
2. 地址字段A和控制字段C，无含义，固定不变
3. 协议字段指明信息段运载的分组种类
4. **信息字段长度小于1500B**
5. FCS字段用于CRC检验

### PPP协议组成部分
1. 一种成帧方法。将IP数据报封装到串行链路
2. 链路控制协议LCP：建立、配置、测试和管理数据链路
3. 网络控制协议NCP：为网络层协议建立和配置逻辑连接。**每个不同的网络层协议需要用一个相应的NCP配置**

> 1. PPP、HDLC协议不属于TCP/IP协议族

# 3.8 数据链路层设备
## 3.8.1 网桥（大纲已删
## 3.8.2 局域网交换机
### 1. 原理和特点
1. 又称**以太网交换机**，本质上是**多端口的网桥**，工作在**数据链路层**（物理层+数据链路层
2. **交换机可以分隔冲突域**，一个端口是一个冲突域。**交换机不可以隔绝广播域**
3. 检测**MAC地址**
4. 对于传统10Mb/s以太网，N个用户，每个用户平均带宽10/N；而交换机连接的N个用户，每个用户还是10Mb/s，且总带宽可达到10N（半双工要/2
5. 用交换机可以实现VLAN，**VLAN可以隔绝冲突域和广播域**
6. 支持多对用户同时通信


两种交换模式：

1. **直通式：只检查帧的目的地址（6B），速度快，不安全，不支持不同速率**
2. 存储转发式：检查帧无错误后，再转发，否则丢弃。延迟较高

> 1. (13 408) 对于100Mbps的以太网交换机，输出端口无排队，以**直通交换方式**转发一个以太网帧（不包括前导码）时，引入的转发延迟至少是？帧目的地址6B要记住

![请添加图片描述](https://img-blog.csdnimg.cn/fc3f864bb1f8414e8298fe14112a96a4.png)


 ### 2. 交换机自学习功能

 1. 交换机的过滤和转发借助**交换表**完成，初始交换表为空
 2. 交换机接受到一帧后，查找交换表，若找不到目的地址对应端口，则将源地址写入交换表，向所有其他端口发送该帧
 3. 自学习使交换机能够**即插即用**

---

# 408真题
（10 408）

- CSMA/CD协议过程
- MAC帧格式

![在这里插入图片描述](https://img-blog.csdnimg.cn/999c061854424f7a88c6155985757f39.jpeg)
（17 408）

- 捎带确认：不用额外发送确认帧，在数据帧中进行确认
- GBN协议，发送窗口，超时需要重传后面的帧，累计确认
- 信道利用率计算
![在这里插入图片描述](https://img-blog.csdnimg.cn/25f919c5af9a48ca8e8a1311849ab81e.jpeg)

